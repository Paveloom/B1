# Руководство
### Компиляция программ
**make result** — скомпилировать, собрать и запустить, стандартный вывод направить в файл output;<br>
**make result-r** — скомпилировать, собрать и запустить, обновив и показав содержимое файла output в терминале;<br>
**make result-d** _(для отладки)_ — скомпилировать, собрать и запустить, стандартный вывод направить в файл output, после чего выполнить правило clean;<br>
**make result-c** _(для отладки)_ — скомпилировать, собрать и запустить, обновив и показав содержимое файла output в терминале, после чего выполнить правило clean;<br>
**make clean** — очистить директорию с исходниками от объектных файлов и удалить собранную программу (зависит от переменной save_main);<br>
**make clean-all** — удалить в директории с исходниками следующие файлы: _*.o, *.mod, *.eps, *.dat, result*_, — а также удалить собранную программу.<br>

Обратите внимание: имена файлов с модулями, имена модулей внутри файлов и зависимости в make-файле рекомендуется записывать строчными буквами и единым образом. В противном случае возможна некорректная компиляция программы. 
### Отправка кода на Github
**make git-new-r** ___new-rep___ ___label___ — подключить к Git удалённый репозиторий ___new-rep___, обозначив его локально меткой ___label___;<br>
**make git-new** ___new-rep___ — подключить к Git удалённый репозиторий ___new-rep___, обозначив его локально меткой ___origin___ (по умолчанию);<br>
**make git-r** ___rep___ — создать и опубликовать коммит в репозитории с меткой ___rep___;<br>
**make git** — создать и опубликовать коммит в репозитории с меткой ___origin___;<br>
**make git-am** — обновить последний коммит до текущего состояния локального репозитория с меткой ___origin___;<br>
**make git-am-r** ___label___ — обновить последний коммит до текущего состояния локального репозитория с меткой ___label___;<br>
**make git-s** — выполнить команды git status и git remote;<br>
**make git-clean** — удалить папку .git (если находитесь в корне репозитория).<br>

Редактирование коммита происходит во встроенном консольном текстовом редакторе.<br>

### Советы и замечания:

+ Make-файл позволяет указать отдельную директорию для исходников и объектных файлов: за это отвечает переменная source_path. Путь необходимо вводить с точкой в начале (предполагается использование поддиректории в текущем каталоге) и со слешем в окончании;
+ Переменная main_name отвечает за имя главной программы. Оно и имя файла, её содержащего, должны совпадать;
+ Предполагается использование только одной главной программы: дополнительные процедуры помещаются в модули;
+ Правила-зависимости должны иметь в начале путевой префикс $(source_path);
+ Переменная use_input указывает make-файлу, переадресовывать ли файл input при запуске программы (_true_ — да, любое другое значение — нет). Несмотря на общее описание структуры, ввод данных из файла input таким образом не рекомендуется при использовании MPI;
+ Переменная save_main указывает make-файлу, удалять ли при использовании правила clean собранную программу (_true_ — да, любое другое значение — нет);
+ Переменная username отвечает за имя пользователя на Github: необходимо для правил git-new и git-new-r;
+ Для финальной проверки программы рекомендуется использовать правила result-d и result-c: таким образом объектные файлы будут созданы с нуля;
+ В вариантах для MPI число процессов указывается в переменной procs_num, однако в вариантах для OpenMP в коде подобных указаний нет: предполагается, что пользователь указывает число потоков, используя переменную окружения OMP_NUM_THREADS;
+ В make-файле присутствует правило .SILENT, которое, при наличии зависимостей, заглушает вывод со стороны указанных правил. Если же зависимости не указаны, скрывается весь вывод со стороны make-файла;
+ Флаги для компилятора, которые можно использовать на стадиях Debugging и Production, указаны в одноимённых файлах в каждом из каталогов вариантов. В make-файле флаги указываются в переменной opt. При значении переменной debugging «true» opt будет наследовать флаги из переменной opt_debug, при другом значении — из opt_production;
+ Выравнивание make-файла на Github отображается неверно. Действительный вид можно получить, используя текстовый редактор _gedit_.
